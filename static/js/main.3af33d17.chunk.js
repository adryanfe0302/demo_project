(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(3),a=t.n(r),o=t(26),i=t.n(o),s=(t(38),t(22)),d=t(14),j=t(49),l=t(15),u=t(23),b=t.n(u);function h(){var e=Object(l.a)(["\n  query($id: ID){\n    book(id: $id){\n      id\n      name\n      genre\n      author{\n        id\n        name\n        age\n        books{\n          name\n          id\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}function O(){var e=Object(l.a)(["\n mutation($name: String!, $genre: String!, $authorId: ID!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId){\n      name\n      id\n    }\n  }\n"]);return O=function(){return e},e}function x(){var e=Object(l.a)(["\n  {\n    books{\n      name\n      id\n    }\n  }\n"]);return x=function(){return e},e}function m(){var e=Object(l.a)(["\n{\n  authors{\n    name\n    id\n  }\n}\n"]);return m=function(){return e},e}var g=b()(m()),f=b()(x()),v=b()(O()),p=b()(h()),k=(t(39),Object(j.a)(p,{options:function(e){return{variables:{id:e.bookId}}}})((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{id:"myModal",className:"modal",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("span",{className:"close",onClick:function(){e.setShow(!1)},children:"\xd7"}),Object(c.jsx)("p",{children:"  The Book Details Goes here "}),function(){var n=e.data.book;return console.log("props",e),n?Object(c.jsxs)("div",{children:[Object(c.jsxs)("h2",{children:[" ",n.name," "]}),Object(c.jsxs)("p",{children:[" ",n.genre," "]}),Object(c.jsxs)("p",{children:[" ",n.author.name," "]}),Object(c.jsx)("p",{children:"  All Book by this author: "}),Object(c.jsx)("ul",{children:n.author.books.map((function(e){return Object(c.jsxs)("li",{children:[" ",e.name," "]},e.id)}))})]}):Object(c.jsx)("div",{children:" No Selected Book. "})}()]})})})}))),I=Object(j.a)(f)((function(e){var n=Object(r.useState)(null),t=Object(d.a)(n,2),a=t[0],o=t[1],i=Object(r.useState)(!1),s=Object(d.a)(i,2),j=s[0],l=s[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("ul",{id:"book-list",children:e.data.loading?"loading books":e.data.books.map((function(e,n){return Object(c.jsx)("li",{onClick:function(){o(e.id),l(!0)},style:{cursor:"pointer"},children:e.name},e.id)}))}),j&&Object(c.jsx)(k,{bookId:a,setShow:l})]})})),y=t(19),B=t(32),S=Object(B.flowRight)(Object(j.a)(g,{name:"getAuthorsQuery"}),Object(j.a)(v,{name:"addBookMutation"}))((function(e){var n=Object(r.useState)({name:"",genre:"",authorId:""}),t=Object(d.a)(n,2),a=t[0],o=t[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("label",{children:Object(c.jsx)("b",{children:"Book Name"})}),Object(c.jsx)("input",{type:"text",placeholder:"Enter Book",onChange:function(e){var n=Object(y.a)({},a);n.name=e.target.value,o(n)}}),Object(c.jsx)("label",{children:Object(c.jsx)("b",{children:"Genre"})}),Object(c.jsx)("input",{type:"text",placeholder:"Enter Genre",onChange:function(e){var n=Object(y.a)({},a);n.genre=e.target.value,o(n)}}),Object(c.jsx)("label",{children:Object(c.jsx)("b",{children:"Authors"})}),Object(c.jsx)("select",{onChange:function(e){var n=Object(y.a)({},a);n.authorId=e.target.value,o(n)},children:e.getAuthorsQuery.loading?Object(c.jsx)("option",{disabled:!0,value:"0",children:"Loading..."}):e.getAuthorsQuery.authors.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(c.jsx)("button",{className:"registerbtn",onClick:function(n){n.preventDefault(),e.addBookMutation({variables:{name:a.name,genre:a.genre,authorId:a.authorId},refetchQueries:[{query:f}]})},children:" + Add"})]})})})),N=t(5),$=new s.a({uri:"http://localhost:4000/graphql"});var A=function(){return Object(c.jsx)(N.b,{client:$,children:Object(c.jsxs)("div",{className:"Main",children:[Object(c.jsx)("h1",{children:" List Book"}),Object(c.jsx)(I,{}),Object(c.jsx)("h1",{children:" Add Book"}),Object(c.jsx)(S,{})]})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.3af33d17.chunk.js.map